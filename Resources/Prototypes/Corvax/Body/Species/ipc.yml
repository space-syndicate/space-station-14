- type: markingsGroup
  parent: Undergarments
  id: Ipc
  limits:
    enum.HumanoidVisualLayers.Hair:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.FacialHair:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.Chest:
      limit: 2
      required: false
    enum.HumanoidVisualLayers.Snout:
      limit: 1
      required: true
      default: [ IpcOrangeS ]
    enum.HumanoidVisualLayers.LArm:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.RArm:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.LHand:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.RHand:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.LLeg:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.RLeg:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.LFoot:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.RFoot:
      limit: 1
      required: false
    enum.HumanoidVisualLayers.Tail:
      limit: 0
      required: false
    enum.HumanoidVisualLayers.Special:
      limit: 0
      required: false

- type: entity
  parent: BaseSpeciesAppearance
  id: AppearanceIpc
  name: Ipc appearance
  components:
  - type: Inventory
    femaleDisplacements:
      jumpsuit:
        sizeMaps:
          32:
            sprite: Mobs/Species/Human/displacement.rsi
            state: jumpsuit-female
  - type: InitialBody
    organs:
      Torso: OrganIpcTorso
      Head: OrganIpcHead
      ArmLeft: OrganIpcArmLeft
      ArmRight: OrganIpcArmRight
      HandRight: OrganIpcHandRight
      HandLeft: OrganIpcHandLeft
      LegLeft: OrganIpcLegLeft
      LegRight: OrganIpcLegRight
      FootLeft: OrganIpcFootLeft
      FootRight: OrganIpcFootRight
      Brain: OrganIpcBrain
      Eyes: OrganIPCEyes
  - type: HumanoidProfile
    species: Ipc

- type: entity
  parent:
  - AppearanceIpc
  - BaseSpeciesMob
  id: MobIpc
  name: Urist McHands
  components:
  - type: Damageable
    damageContainer: SiliconIpc
    damageModifierSet: Ipc
  - type: DamageVisuals
    damageOverlayGroups:
      Brute:
        sprite: Mobs/Effects/brute_damage.rsi
        color: "#cd7314"
      Burn:
        sprite: Mobs/Effects/burn_damage.rsi
  - type: SlowOnDamage
    speedModifierThresholds:
      60: 0.7
      80: 0.5
  - type: Speech
    speechSounds: Alto
  - type: ZombieImmune
  - type: Vocal
    sounds:
      Male: MaleIpc
      Female: FemaleIpc
      Unsexed: MaleIpc
  - type: Fixtures
    fixtures: # TODO: This needs a second fixture just for mob collisions.
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.35
        density: 185
        restitution: 0.0
        mask:
        - MobMask
        layer:
        - MobLayer
  - type: Reactive
    groups:
      Flammable: [ Touch ]
      Extinguish: [ Touch ]
      Acidic: [Touch, Ingestion]
    reactions:
    - reagents: [Water, SpaceCleaner]
      methods: [Touch]
      effects:
      - !type:WashCreamPie
  - type: FireVisuals
    alternateState: Standing
  - type: UserInterface
    interfaces:
      enum.HumanoidMarkingModifierKey.Key:
        type: HumanoidMarkingModifierBoundUserInterface
      enum.StrippingUiKey.Key:
        type: StrippableBoundUserInterface
      enum.IpcFaceUiKey.Face:
        type: IpcFaceUserInterface
  - type: InteractionPopup
    successChance: 1
    interactSuccessString: hugging-success-generic
    interactSuccessSound: /Audio/Effects/thudswoosh.ogg
    messagePerceivedByOthers: hugging-success-generic-others
  - type: BodyEmotes
    soundsId: IpcEmotes
    ############################# это работает?
  - type: ItemTogglePointLight
  - type: ToggleableVisuals
    spriteLayer: light
  - type: PointLight
    enabled: false
    mask: /Textures/Effects/LightMasks/cone.png
    autoRot: true
    radius: 4
    netsync: false
  - type: HandheldLight
    toggleOnInteract: false
    wattage: 0.2
    blinkingBehaviourId: blinking
    radiatingBehaviourId: radiating
  - type: LightBehaviour
    behaviours:
    - !type:FadeBehaviour
      id: radiating
      maxDuration: 2.0
      startValue: 3.0
      endValue: 2.0
      isLooped: true
      reverseWhenFinished: true
    - !type:PulseBehaviour
      id: blinking
      interpolate: Nearest
      maxDuration: 1.0
      startValue: 0.1
      endValue: 2.0
      isLooped: true
    #############################
  - type: TypingIndicator
    proto: robot
  - type: PowerCellSlot
    cellSlotId: cell_slot
    fitsInCharger: true
  - type: PowerCellDraw
    drawRate: 0.8
  - type: AccessReader
    access: [ ["Ipc"] ]
  - type: Access
    enabled: true
    tags:
      - Ipc
  - type: ItemSlots
    slots:
      cell_slot:
        name: power-cell-slot-component-slot-name-default
        startingItem: PowerCellMedium
  - type: Lock
    unlockOnClick: false
  - type: ItemSlotsLock
    slots:
    - cell_slot
  - type: ContainerContainer
    containers:
      cell_slot: !type:ContainerSlot { }
  - type: Ipc
  - type: Repairable
    fuelCost: 30
    doAfterDelay: 20
    selfRepairPenalty: 2
  - type: DamagedSiliconAccent
  - type: Reflect
    reflectProb: 0.05
  - type: SleepEmitSound
    snore: /Audio/Machines/buzz-two.ogg
    interval: 30
    popUp: sleep-ipc
  - type: Butcherable
    butcheringType: Spike
    spawned:
      - id: OrganIpcHead
        amount: 1
  - type: MobThresholds
    thresholds:
      0: Alive
      100: Critical
      200: Dead
    stateAlertDict:
      Alive: BorgHealth
      Critical: BorgCrit
      Dead: BorgDead
  - type: Fingerprint
  - type: Blindable
  - type: Tag
    tags:
    - CanPilot
    - FootstepSound
    - DoorBumpOpener
    - AnomalyHost
    - Ipc
  ############ хз зачем было
  - type: Temperature
    currentTemperature: 310.15
    specificHeat: 42
  - type: TemperatureDamage
    heatDamageThreshold: 325
    coldDamageThreshold: 260
    coldDamage:
      types:
        Cold: 0 #per second, scales with temperature & other constants
    heatDamage:
      types:
        Heat: 1.5 #per second, scales with temperature & other constants
  - type: TemperatureSpeed
    thresholds:
      293: 0.8
  - type: ThermalRegulator
    metabolismHeat: 800
    radiatedHeat: 100
    implicitHeatRegulation: 500
    sweatHeatRegulation: 2000
    shiveringHeatRegulation: 2000
    normalBodyTemperature: 310.15
    thermalRegulationTemperatureThreshold: 2

- type: entity
  parent: OrganBase
  id: OrganIpc
  abstract: true
  suffix: Ipc

- type: entity
  parent: OrganIpc
  id: OrganIpcExternal
  abstract: true
  components:
  - type: Sprite
    sprite: Corvax/Mobs/Species/IPC/parts.rsi
  - type: VisualOrgan
    data:
      sprite: Corvax/Mobs/Species/IPC/parts.rsi
  - type: VisualOrganMarkings
    markingData:
      group: Ipc

- type: entity
  parent: [ OrganBaseTorso, OrganIpcExternal ]
  id: OrganIpcTorso

- type: entity
  parent: [ OrganBaseHead, OrganIpcExternal ]
  id: OrganIpcHead
  components:
  - type: VisualOrganMarkings
    hideableLayers:
    - enum.HumanoidVisualLayers.Hair
    - enum.HumanoidVisualLayers.Snout

- type: entity
  parent: [ OrganBaseArmLeft, OrganIpcExternal ]
  id: OrganIpcArmLeft

- type: entity
  parent: [ OrganBaseArmRight, OrganIpcExternal ]
  id: OrganIpcArmRight

- type: entity
  parent: [ OrganBaseHandLeft, OrganIpcExternal ]
  id: OrganIpcHandLeft

- type: entity
  parent: [ OrganBaseHandRight, OrganIpcExternal ]
  id: OrganIpcHandRight

- type: entity
  parent: [ OrganBaseLegLeft, OrganIpcExternal ]
  id: OrganIpcLegLeft

- type: entity
  parent: [ OrganBaseLegRight, OrganIpcExternal ]
  id: OrganIpcLegRight

- type: entity
  parent: [ OrganBaseFootLeft, OrganIpcExternal ]
  id: OrganIpcFootLeft

- type: entity
  parent: [ OrganBaseFootRight, OrganIpcExternal ]
  id: OrganIpcFootRight

- type: entity
  parent: [ OrganBaseBrain, OrganIpc ]
  id: OrganIpcBrain
  components:
  - type: Sprite
    sprite: Objects/Specific/Robotics/mmi.rsi
    layers:
    - state: posibrain
      map: ["base"]

- type: entity
  parent: [ OrganBase ]
  id: OrganIPCEyes
  components:
  - type: Sprite
    sprite: Objects/Misc/proximity_sensor.rsi
    state: icon
